fileVersion: 1
id: 16a49689-6377-4f0f-a96d-378acefbbc07
name: STG_MENU_INGREDIENT
operation:
  config:
    insertStrategy: INSERT
    postSQL: ""
    preSQL: ""
    testsEnabled: true
    truncateBefore: true
  database: ""
  deployEnabled: true
  description: ""
  isMultisource: false
  locationName: TARGET
  materializationType: table
  metadata:
    appliedNodeTests: []
    columns:
      - appliedColumnTests:
          hasNull: true
        columnReference:
          columnCounter: 0af92dca-3ea0-41c0-b49b-10fbf9ba56ee
          stepCounter: 16a49689-6377-4f0f-a96d-378acefbbc07
        config: {}
        dataType: NUMBER(19,0)
        description: ""
        name: MENU_ID
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: c9b1b51e-66ce-4c2e-863e-1edc918b86ce
                stepCounter: 8a832aad-b498-4f35-932a-a2fe7e279c19
            transform: ""
      - appliedColumnTests:
          hasNull: false
        columnReference:
          columnCounter: 34f7e47a-b3aa-4c38-9aeb-8d01d3223a6d
          stepCounter: 16a49689-6377-4f0f-a96d-378acefbbc07
        config: {}
        dataType: VARIANT
        description: ""
        name: MENU_ITEM_HEALTH_METRICS_OBJ
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 66c93b18-d16c-42c7-bf05-1715d772929c
                stepCounter: 8a832aad-b498-4f35-932a-a2fe7e279c19
            transform: ""
      - acceptedValues:
          strictMatch: true
          values: []
        appliedColumnTests:
          hasNull: false
        columnReference:
          columnCounter: 2cc7d406-b647-4781-9ac5-5b6bb0a94702
          stepCounter: 16a49689-6377-4f0f-a96d-378acefbbc07
        config: {}
        dataType: STRING
        description: ""
        name: menu_item_health_metrics_ingredients
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 66c93b18-d16c-42c7-bf05-1715d772929c
                stepCounter: 8a832aad-b498-4f35-932a-a2fe7e279c19
            transform: "\"MENU_ITEM_HEALTH_METRICS_OBJ_menu_item_health_metrics_ingredients\".value::STRING"
      - acceptedValues:
          strictMatch: true
          values: []
        appliedColumnTests:
          hasNull: false
        columnReference:
          columnCounter: c2c0745d-ff2d-49a2-9e89-f8642287a6a0
          stepCounter: 16a49689-6377-4f0f-a96d-378acefbbc07
        config: {}
        dataType: STRING
        description: ""
        name: menu_item_health_metrics_is_dairy_free_flag
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 66c93b18-d16c-42c7-bf05-1715d772929c
                stepCounter: 8a832aad-b498-4f35-932a-a2fe7e279c19
            transform: "\"MENU_ITEM_HEALTH_METRICS_OBJ_menu_item_health_metrics\".value:\"is_dairy_free_flag\"::STRING"
      - acceptedValues:
          strictMatch: true
          values: []
        appliedColumnTests:
          hasNull: false
        columnReference:
          columnCounter: dd299862-e309-4334-a006-f27b18cc0fec
          stepCounter: 16a49689-6377-4f0f-a96d-378acefbbc07
        config: {}
        dataType: STRING
        description: ""
        name: menu_item_health_metrics_is_gluten_free_flag
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 66c93b18-d16c-42c7-bf05-1715d772929c
                stepCounter: 8a832aad-b498-4f35-932a-a2fe7e279c19
            transform: "\"MENU_ITEM_HEALTH_METRICS_OBJ_menu_item_health_metrics\".value:\"is_gluten_free_flag\"::STRING"
      - acceptedValues:
          strictMatch: true
          values: []
        appliedColumnTests:
          hasNull: false
        columnReference:
          columnCounter: da2ab117-dc3c-4762-b963-27a72c306d96
          stepCounter: 16a49689-6377-4f0f-a96d-378acefbbc07
        config: {}
        dataType: STRING
        description: ""
        name: menu_item_health_metrics_is_healthy_flag
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 66c93b18-d16c-42c7-bf05-1715d772929c
                stepCounter: 8a832aad-b498-4f35-932a-a2fe7e279c19
            transform: "\"MENU_ITEM_HEALTH_METRICS_OBJ_menu_item_health_metrics\".value:\"is_healthy_flag\"::STRING"
      - acceptedValues:
          strictMatch: true
          values: []
        appliedColumnTests:
          hasNull: false
        columnReference:
          columnCounter: 4cdc1a1e-3437-4c23-a62a-0a7bca2b199b
          stepCounter: 16a49689-6377-4f0f-a96d-378acefbbc07
        config: {}
        dataType: STRING
        description: ""
        name: menu_item_health_metrics_is_nut_free_flag
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 66c93b18-d16c-42c7-bf05-1715d772929c
                stepCounter: 8a832aad-b498-4f35-932a-a2fe7e279c19
            transform: "\"MENU_ITEM_HEALTH_METRICS_OBJ_menu_item_health_metrics\".value:\"is_nut_free_flag\"::STRING"
      - acceptedValues:
          strictMatch: true
          values: []
        appliedColumnTests:
          hasNull: false
        columnReference:
          columnCounter: 1b4f1265-0a80-4168-8e1f-083b1629ebeb
          stepCounter: 16a49689-6377-4f0f-a96d-378acefbbc07
        config: {}
        dataType: DOUBLE
        description: ""
        name: menu_item_id
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 66c93b18-d16c-42c7-bf05-1715d772929c
                stepCounter: 8a832aad-b498-4f35-932a-a2fe7e279c19
            transform: "\"STG_MENU\".\"MENU_ITEM_HEALTH_METRICS_OBJ\":\"menu_item_id\"::DOUBLE"
    cteString: ""
    enabledColumnTestIDs:
      - hasNull
    sourceMapping:
      - aliases: {}
        customSQL:
          customSQL: ""
        dependencies:
          - locationName: TARGET
            nodeName: STG_MENU
        join:
          joinCondition: |-
            FROM {{ ref('TARGET', 'STG_MENU') }} "STG_MENU", 
            lateral flatten(input => "MENU_ITEM_HEALTH_METRICS_OBJ":"menu_item_health_metrics", OUTER => TRUE) "MENU_ITEM_HEALTH_METRICS_OBJ_menu_item_health_metrics", 
            lateral flatten(input => "MENU_ITEM_HEALTH_METRICS_OBJ_menu_item_health_metrics".value:"ingredients", OUTER => TRUE) "MENU_ITEM_HEALTH_METRICS_OBJ_menu_item_health_metrics_ingredients"
        name: STG_MENU_INGREDIENT
        noLinkRefs: []
  name: STG_MENU_INGREDIENT
  overrideSQL: false
  schema: ""
  sqlType: Stage
  type: sql
  version: 1
type: Node
